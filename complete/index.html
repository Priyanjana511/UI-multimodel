<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sidebar menu With Sub-menus | Using HTML, CSS & JQuery</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
    <link rel="stylesheet" href="./style.css" />
</head>
<body>
    <div class="menu-btn">
        <i class="fas fa-bars"></i>
    </div>

    <div class="side-bar">
        <header>
            <div class="close-btn">
                <i class="fas fa-times"></i>
            </div>
            <h1>Categories</h1>
        </header>

        <div class="menu">
            <!-- Lamps Category -->
            <div class="item">
                <a class="sub-btn">
                    <img class="model-image" src="https://example.com/lamp1.jpg" alt="Lamp" />
                    <i class="fas fa-angle-right dropdown"></i>
                </a>
                <div class="sub-menu">
                    <a href="#" class="sub-item" data-category="lamps" data-item="lamp1">
                        <img class="model-image" src="https://example.com/lamp1.jpg" alt="" /> Lamp 1
                    </a>
                    <a href="#" class="sub-item" data-category="lamps" data-item="lamp2">
                        <img class="model-image" src="https://example.com/lamp2.jpg" alt="" /> Lamp 2
                    </a>
                    <a href="#" class="sub-item" data-category="lamps" data-item="lamp3">
                        <img class="model-image" src="https://example.com/lamp3.jpg" alt="" /> Lamp 3
                    </a>
                </div>
            </div>

            <!-- Tables Category -->
            <div class="item">
                <a class="sub-btn">
                    <img class="model-image" src="https://example.com/table1.jpg" alt="Table" />
                    <i class="fas fa-angle-right dropdown"></i>
                </a>
                <div class="sub-menu">
                    <a href="#" class="sub-item" data-category="tables" data-item="table1">
                        <img class="model-image" src="https://example.com/table1.jpg" alt="" /> Table 1
                    </a>
                    <a href="#" class="sub-item" data-category="tables" data-item="table2">
                        <img class="model-image" src="https://example.com/table2.jpg" alt="" /> Table 2
                    </a>
                    <a href="#" class="sub-item" data-category="tables" data-item="table3">
                        <img class="model-image" src="https://example.com/table3.jpg" alt="" /> Table 3
                    </a>
                </div>
            </div>

            <!-- Sofas Category -->
            <div class="item">
                <a class="sub-btn">
                    <img class="model-image" src="https://example.com/sofa1.jpg" alt="Sofa" />
                    <i class="fas fa-angle-right dropdown"></i>
                </a>
                <div class="sub-menu">
                    <a href="#" class="sub-item" data-category="sofas" data-item="sofa1">
                        <img class="model-image" src="https://example.com/sofa1.jpg" alt="" /> Sofa 1
                    </a>
                    <a href="#" class="sub-item" data-category="sofas" data-item="sofa2">
                        <img class="model-image" src="https://example.com/sofa2.jpg" alt="" /> Sofa 2
                    </a>
                    <a href="#" class="sub-item" data-category="sofas" data-item="sofa3">
                        <img class="model-image" src="https://example.com/sofa3.jpg" alt="" /> Sofa 3
                    </a>
                </div>
            </div>
        </div>
    </div>

    <section class="main">
        <h1 style="color: black;">Models Preview</h1>
        <button id="place-btn" style="display: none;">Place</button>
        <button id="cancel-btn" style="display: none;">Cancel</button>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" charset="utf-8"></script>
    <script src="../complete/main.js" type="module"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            // Toggle sub menus
            $(".sub-btn").click(function () {
                $(this).next(".sub-menu").slideToggle();
                $(this).find(".dropdown").toggleClass("rotate");
            });

            // Expand and collapse the sidebar
            $(".menu-btn").click(function () {
                $(".side-bar").addClass("active");
                $(".menu-btn").css("visibility", "hidden");
            });

            $(".close-btn").click(function () {
                $(".side-bar").removeClass("active");
                $(".menu-btn").css("visibility", "visible");
            });

            // Handle item selection and AR interaction
            $(".sub-item").click(function (e) {
                e.preventDefault();
                const categoryName = $(this).data("category");
                const itemName = $(this).data("item");

                // Call the selectModel function from the main.js script
                selectModel(categoryName, itemName);
                showPlacementButtons(); // Show the Place and Cancel buttons after selecting a model
            });
        });

        // Function to show Place and Cancel buttons
        function showPlacementButtons() {
            $("#place-btn").show();
            $("#cancel-btn").show();
        }
    </script>
</body>
</html>
